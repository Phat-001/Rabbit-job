(function(b){var a=(function(){function c(){this.items=[]}c.prototype={add:function(d){this.items.push(d)},remove:function(e){var d=this.items.indexOf(e);if(d!==-1){this.items.splice(d,1)}},find:function(e,d){var f,g=this.items,h=g.length;matches=[],i=0;for(;i<h;i++){f=e(g[i],i);if(f){matches.push(g[i])}}if(d){d.call(this,matches)}return matches}};return c}());a.create=function(){return new a()};b.List=a}(window));(function(d,a,b){var c=(function(){function e(f,g){this.gMap=new a.maps.Map(f,g);this.markers=b.create();if(g.cluster){this.markerClusterer=new MarkerClusterer(this.gMap,[],g.cluster.options)}if(g.geocoder){this.geocoder=new a.maps.Geocoder()}}e.prototype={zoom:function(f){if(f){this.gMap.setZoom(f)}else{return this.gMap.getZoom()}},_on:function(f){var g=this;a.maps.event.addListener(f.obj,f.event,function(h){f.callback.call(g,h,f.obj)})},geocode:function(f){this.geocoder.geocode({address:f.address},function(g,h){if(h===a.maps.GeocoderStatus.OK){f.success.call(this,g,h)}else{f.error.call(this,h)}})},getCurrentPosition:function(f){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(g){f.call(this,g)})}},setPano:function(f,g){var h=new a.maps.StreetViewPanorama(f,g);if(g.events){this._attachEvents(h,g.events)}this.gMap.setStreetView(h)},addMarker:function(g){var f,h=this;g.position={lat:g.lat,lng:g.lng};f=this._createMarker(g);if(this.markerClusterer){this.markerClusterer.addMarker(f)}this._addMarker(f);if(g.events){this._attachEvents(f,g.events)}if(g.content){this._on({obj:f,event:"click",callback:function(){var j=new a.maps.InfoWindow({content:g.content});j.open(this.gMap,f)}})}return f},_attachEvents:function(g,f){var h=this;f.forEach(function(j){h._on({obj:g,event:j.name,callback:j.callback})})},_addMarker:function(f){this.markers.add(f)},findBy:function(f){this.markers.find(f)},removeBy:function(f){var g=this;g.markers.find(f,function(h){h.forEach(function(j){if(g.markerClusterer){g.markerClusterer.removeMarker(j)}else{j.setMap(null)}})})},_createMarker:function(f){f.map=this.gMap;return new a.maps.Marker(f)}};return e}());c.create=function(e,f){return new c(e,f)};d.Mapster=c}(window,google,List));(function(d,a,b){var c=[{featureType:"all",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#dddddd"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#464646"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#464646"},{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#464646"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#464646"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#464646"}]}];b.MAP_OPTIONS={center:{lat:51.8045646,lng:-5.0102911},zoom:10,disableDefaultUI:false,scrollwheel:false,draggable:true,mapTypeId:a.maps.MapTypeId.ROADMAP,zoomControlOptions:{position:a.maps.ControlPosition.LEFT_BOTTOM,style:a.maps.ZoomControlStyle.DEFAULT},panControlOptions:{position:a.maps.ControlPosition.LEFT_BOTTOM},cluster:false,geocoder:true,styles:c}}(window,google,window.Mapster||(window.Mapster={})))(function(b,a){$.widget("mapster.mapster",{options:{},_create:function(){var c=this.element[0],d=this.options;this.map=a.create(c,d)},_refresh:function(){},addMarker:function(c){var d=this;if(c.location){this.map.geocode({address:c.location,success:function(e){e.forEach(function(f){c.lat=f.geometry.location.lat();c.lng=f.geometry.location.lng();d.map.addMarker(c)})},error:function(e){console.error(e)}})}else{this.map.addMarker(c)}},findMarkers:function(c){return this.map.findBy(c)},removeMarkers:function(c){this.map.removeBy(c)},markers:function(){return this.map.markers.items},getCurrentPosition:function(c){this.map.getCurrentPosition(c)},setPano:function(e,d){var c=$(e),f=this;$.each(c,function(h,g){f.map.setPano(g,d)})},_destroy:function(){},_setOptions:function(){this._superApply(arguments);this._refresh()},_setOption:function(c,d){this._super(c,d)}})}(window,Mapster));